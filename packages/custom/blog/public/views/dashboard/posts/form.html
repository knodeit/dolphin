<h1 class="page-header"><span ng-hide="form.id">Create a Post</span><span ng-show="form.id">Update a Post</span></h1>

<form class="form-horizontal" role="form" data-ng-submit="submit()">
    <input type="hidden" ng-model="form.id">

    <div class="row">
        <div class="col-md-4 post-options">

            <div class="form-group" ng-class="{'has-error': errors.blog}">
                <label class="control-label">Blog</label>


                    <select class="form-control" ng-model="form.blog" ng-change="updateOptionsCauseBlogChanged()" ng-options="item._id as item.title for item in form.blogs">
                    <option></option>
                    </select>

                    <div class="help-block" ng-show="errors.blog">{{errors.blog}}</div>

            </div>


            <div class="form-group" ng-class="{'has-error': errors.slug}">
                <label class="control-label">Slug Format</label>

                <select class="form-control" ng-model="slugDefault" ng-change="slugMaker(slugDefault)" ng-options="option as option for option in slugDefaultOptions">

                </select>

                <label class="control-label">Slug preview</label>
                <input type="text" class="form-control" ng-model="form.slug" ng-change="slugDefault='Custom'">

                <div class="help-block" ng-show="errors.slug">{{errors.slug}}</div>

            </div>

            <div class="form-group">
                <label class="control-label">Categories</label>
                <div class="categories-checkbox" ng-repeat="category in categories track by $index">
                    <input type="checkbox" name="{{category}}" value="{{category}}" data-ng-model="form.selectedCategories[$index]">
                    <label class="control-label">{{category}}</label>
                </div>

            </div>
            <div class="form-group">
                <label class="control-label">New Category</label>
                <input type="text" class="form-control" ng-model="newCategory">
                <button type="button" ng-click="addCategory()">ADD</button>
            </div>


            <div class="form-group" ng-class="{'has-error': errors.annonce}">
                <label class="control-label">Heading</label>


                    <textarea rows="2" class="form-control" ng-model="form.annonce"></textarea>

                    <div class="help-block" ng-show="errors.annonce">{{errors.annonce}}</div>

            </div>

            <div class="form-group" ng-class="{'has-error': errors.thumbnail}">
                <label class="control-label">Thumbnail</label>


                    <input type="file" class="form-control" ngf-select ng-model="form.thumbnail">

                    <div class="help-block" ng-show="errors.thumbnail">{{errors.thumbnail}}</div>

            </div>

            <div class="form-group" ng-show="percent > 0">
                <progressbar class="progressbar-sm progress-striped" value="percent" type="success"><span>{{percent}}%</span></progressbar>
            </div>


            <div class="form-group" ng-class="{'has-error': errors.tags}">
                <label class="control-label">Tags</label>


                    <tags-input ng-model="form.tags"></tags-input>
                    <div class="help-block" ng-show="errors.tags">{{errors.tags}}</div>

            </div>

            <div class="form-group" ng-class="{'has-error': errors.keywords}">
                <label class="control-label">Keywords</label>


                    <tags-input ng-model="form.keywords"></tags-input>
                    <div class="help-block" ng-show="errors.keywords">{{errors.keywords}}</div>

            </div>

            <div class="form-group" ng-class="{'has-error': errors.released}">
                <label class="control-label lefty">Publish: <span><input type="checkbox" ng-model="form.released"></span></label>



                    <div class="help-block" ng-show="errors.released">{{errors.releaseDate}}</div>
            </div>

                <div class="form-group" ng-show="form.released" ng-class="{'has-error': errors.releaseDate}">
                    <label class="control-label">Release Date: </label><br>
                    <input type="date" ng-model="form.releaseDate"> &nbsp;
                    <div class="help-block" ng-show="errors.releaseDate">{{errors.releaseDate}}</div>
                </div>
                <div class="form-group" ng-show="form.released" ng-class="{'has-error': errors.cancellationDate}">
                    <label class="control-label" style="margin-bottom:0">Ending Date: <span><input type="checkbox" ng-model="publishEnding"></span></label><br>
                    <input ng-show="publishEnding" type="date" ng-model="form.cancellationDate">
                    <div class="help-block" ng-show="errors.cancellationDate">{{errors.cancellationDate}}</div>
                </div>

        </div>
        <div class="col-md-8 post-body">

            <div class="form-group title-of-post" ng-class="{'has-error': errors.title}">
                <label class="control-label">Title</label>


                <input type="text" class="form-control" ng-model="form.title">

                <div class="help-block" ng-show="errors.title">{{errors.title}}</div>

            </div>

            <div class="form-group" ng-class="{'has-error': errors.content}">
                <textarea ckeditor="editorOptions" ng-model="form.content"></textarea>
                <div class="help-block" ng-show="errors.content">{{errors.content}}</div>
            </div>

            <div class="form-group title-of-post" ng-class="{'has-error': errors.description}">
                <label class="control-label">Description</label>
                <input type="text" class="form-control" ng-model="form.description">
                <div class="help-block" ng-show="errors.description">{{errors.description}}</div>
            </div>

            <div class="form-group submit-post">
                    <button ajax-button-disable type="submit" class="btn btn-primary" id="submitButton">Submit</button>
                    <a ui-sref="dashboard.blog.posts" class="btn">Cancel</a>
            </div>
            <div class="form-group" ng-class="{'has-error': errors.cancellationDate}">
                <label class="control-label" style="margin-bottom:0">Allow Comments:<span><input type="checkbox" ng-model="allowComments"></span></label>
            </div>

        </div>
    </div>
</form>
